import { gql, GraphQLClient } from 'graphql-request';

export async function insertCommandDictionary(graphqlClient: GraphQLClient): Promise<number> {
  const res = await graphqlClient.request<{
    uploadDictionary: { id: number };
  }>(
    gql`
      mutation PutCommandDictionary($dictionary: String!) {
        uploadDictionary(dictionary: $dictionary) {
          id
        }
      }
    `,
    {
      dictionary:
        'PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPGNvbW1hbmRfZGljdGlvbmFyeT4KICAgIDxoZWFkZXIgbWlzc2lvbl9uYW1lPSJBRVJJRSIgdmVyc2lvbj0iMS4wLjAuMCIgc2NoZW1hX3ZlcnNpb249IjEuMCI+CiAgICAgICAgPHNwYWNlY3JhZnRfaWRzPgogICAgICAgICAgICA8c3BhY2VjcmFmdF9pZCB2YWx1ZT0iNjIiIC8+CiAgICAgICAgPC9zcGFjZWNyYWZ0X2lkcz4KICAgIDwvaGVhZGVyPgogICAgPHVwbGlua19maWxlX3R5cGVzPgogICAgICAgIDxmaWxlX3R5cGUgbmFtZT0iZ2VuZXJpYyIgaWQ9IjAiIGV4dGVuc2lvbj0iZGF0IiBmaWxlX2Zvcm1hdF9zcGVjPSJOb25lIiAvPgogICAgPC91cGxpbmtfZmlsZV90eXBlcz4KICAgIDxlbnVtX2RlZmluaXRpb25zPgogICAgICAgIDxlbnVtX3RhYmxlIG5hbWU9ImJvb2xlYW4iPgogICAgICAgICAgICA8dmFsdWVzPgogICAgICAgICAgICAgICAgPGVudW0gc3ltYm9sPSJGQUxTRSIgbnVtZXJpYz0iMCIgLz4KICAgICAgICAgICAgICAgIDxlbnVtIHN5bWJvbD0iVFJVRSIgbnVtZXJpYz0iMSIgLz4KICAgICAgICAgICAgPC92YWx1ZXM+CiAgICAgICAgPC9lbnVtX3RhYmxlPgogICAgPC9lbnVtX2RlZmluaXRpb25zPgogICAgPGNvbW1hbmRfZGVmaW5pdGlvbnM+CiAgICAgICAgPGZzd19jb21tYW5kIG9wY29kZT0iMHhGRkZGIiBzdGVtPSJQUkVIRUFUX09WRU4iIGNsYXNzPSJGU1ciPgogICAgICAgICAgICA8YXJndW1lbnRzPgogICAgICAgICAgICAgICAgPHVuc2lnbmVkX2FyZyBuYW1lPSJ0ZW1wZXJhdHVyZSIgYml0X2xlbmd0aD0iOCIgdW5pdHM9Im5vbmUiPgogICAgICAgICAgICAgICAgICAgIDxyYW5nZV9vZl92YWx1ZXM+CiAgICAgICAgICAgICAgICAgICAgICAgIDxpbmNsdWRlIG1pbj0iMCIgbWF4PSIxMDAiIC8+CiAgICAgICAgICAgICAgICAgICAgPC9yYW5nZV9vZl92YWx1ZXM+CiAgICAgICAgICAgICAgICAgICAgPGRlc2NyaXB0aW9uPlNldCB0aGUgb3ZlbiB0ZW1wZXJ0dXJlPC9kZXNjcmlwdGlvbj4KICAgICAgICAgICAgICAgIDwvdW5zaWduZWRfYXJnPgogICAgICAgICAgICA8L2FyZ3VtZW50cz4KICAgICAgICAgICAgPGNhdGVnb3JpZXM+CiAgICAgICAgICAgICAgICA8bW9kdWxlPnNoZWxsX2N0bDwvbW9kdWxlPgogICAgICAgICAgICAgICAgPG9wc19jYXRlZ29yeT5GU1c8L29wc19jYXRlZ29yeT4KICAgICAgICAgICAgPC9jYXRlZ29yaWVzPgogICAgICAgICAgICA8ZGVzY3JpcHRpb24+VGhpcyBjb21tYW5kIHdpbGwgdHVybiBvbiB0aGUgb3ZlbjwvZGVzY3JpcHRpb24+CiAgICAgICAgICAgIDxjb21wbGV0aW9uPk92ZW4gaXMgcHJlaGVhdGVkPC9jb21wbGV0aW9uPgogICAgICAgICAgICA8ZnN3X3NwZWNpZmljYXRpb24gY3VzdG9tX3ZhbGlkYXRpb25fcmVxdWlyZWQ9Ik5vIiBjb21tYW5kX3ByaW9yaXR5PSJOb21pbmFsIiAvPgogICAgICAgICAgICA8cmVzdHJpY3RlZF9tb2Rlcz4KICAgICAgICAgICAgICAgIDxwcmltZV9zdHJpbmdfcmVzdHJpY3Rpb24gcHJpbWVfc3RyaW5nX29ubHk9Ik5vIiAvPgogICAgICAgICAgICA8L3Jlc3RyaWN0ZWRfbW9kZXM+CiAgICAgICAgPC9mc3dfY29tbWFuZD4KICAgICAgICA8ZnN3X2NvbW1hbmQgb3Bjb2RlPSIweEZGRkYiIHN0ZW09IlBSRVBBUkVfTE9BRiIgY2xhc3M9IkZTVyI+CiAgICAgICAgICAgIDxhcmd1bWVudHM+CiAgICAgICAgICAgICAgICA8dW5zaWduZWRfYXJnIG5hbWU9InRiX3N1Z2FyIiBiaXRfbGVuZ3RoPSI4IiB1bml0cz0icHJpb3JpdHkiPgogICAgICAgICAgICAgICAgICAgIDxyYW5nZV9vZl92YWx1ZXM+CiAgICAgICAgICAgICAgICAgICAgICAgIDxpbmNsdWRlIG1pbj0iMCIgbWF4PSIxMDAiIC8+CiAgICAgICAgICAgICAgICAgICAgPC9yYW5nZV9vZl92YWx1ZXM+CiAgICAgICAgICAgICAgICAgICAgPGRlc2NyaXB0aW9uPkhvdyBtdWNoIHN1Z2FyIGlzIG5lZWRlZDwvZGVzY3JpcHRpb24+CiAgICAgICAgICAgICAgICA8L3Vuc2lnbmVkX2FyZz4KICAgICAgICAgICAgICAgIDxlbnVtX2FyZyBuYW1lPSJnbHV0ZW5fZnJlZSIgYml0X2xlbmd0aD0iOCIgZW51bV9uYW1lPSJib29sZWFuIj4KICAgICAgICAgICAgICAgICAgICA8ZGVzY3JpcHRpb24+RG8geW91IGhhdGUgZmxhdm9yPC9kZXNjcmlwdGlvbj4KICAgICAgICAgICAgICAgIDwvZW51bV9hcmc+CiAgICAgICAgICAgIDwvYXJndW1lbnRzPgogICAgICAgICAgICA8Y2F0ZWdvcmllcz4KICAgICAgICAgICAgICAgIDxtb2R1bGU+c2hlbGxfY3RsPC9tb2R1bGU+CiAgICAgICAgICAgICAgICA8b3BzX2NhdGVnb3J5PkZTVzwvb3BzX2NhdGVnb3J5PgogICAgICAgICAgICA8L2NhdGVnb3JpZXM+CiAgICAgICAgICAgIDxkZXNjcmlwdGlvbj5UaGlzIGNvbW1hbmQgbWFrZSB0aGUgYmFuYW5hIGJyZWFkIGRvdWdoPC9kZXNjcmlwdGlvbj4KICAgICAgICAgICAgPGNvbXBsZXRpb24+VGhlIGRvdWdoIG1peHR1cmUgaXMgY3JlYXRlZDwvY29tcGxldGlvbj4KICAgICAgICAgICAgPGZzd19zcGVjaWZpY2F0aW9uIGN1c3RvbV92YWxpZGF0aW9uX3JlcXVpcmVkPSJObyIgY29tbWFuZF9wcmlvcml0eT0iTm9taW5hbCIgLz4KICAgICAgICAgICAgPHJlc3RyaWN0ZWRfbW9kZXM+CiAgICAgICAgICAgICAgICA8cHJpbWVfc3RyaW5nX3Jlc3RyaWN0aW9uIHByaW1lX3N0cmluZ19vbmx5PSJObyIgLz4KICAgICAgICAgICAgPC9yZXN0cmljdGVkX21vZGVzPgogICAgICAgIDwvZnN3X2NvbW1hbmQ+CiAgICAgICAgPGZzd19jb21tYW5kIG9wY29kZT0iMHhGRkZFIiBzdGVtPSJCQUtFX0JSRUFEIiBjbGFzcz0iRlNXIj4KICAgICAgICAgICAgPGNhdGVnb3JpZXM+CiAgICAgICAgICAgICAgICA8bW9kdWxlPnNoZWxsX2N0bDwvbW9kdWxlPgogICAgICAgICAgICAgICAgPG9wc19jYXRlZ29yeT5GU1c8L29wc19jYXRlZ29yeT4KICAgICAgICAgICAgPC9jYXRlZ29yaWVzPgogICAgICAgICAgICA8ZGVzY3JpcHRpb24+VGhpcyBjb21tYW5kIGJha2VzIGEgYmFuYW5hbiBicmVhZDwvZGVzY3JpcHRpb24+CiAgICAgICAgICAgIDxjb21wbGV0aW9uPkJhbmFuYSBicmVhZCBpcyBkb25lIGJha2luZzwvY29tcGxldGlvbj4KICAgICAgICAgICAgPGZzd19zcGVjaWZpY2F0aW9uIGN1c3RvbV92YWxpZGF0aW9uX3JlcXVpcmVkPSJObyIgY29tbWFuZF9wcmlvcml0eT0iTm9taW5hbCIgLz4KICAgICAgICAgICAgPHJlc3RyaWN0ZWRfbW9kZXM+CiAgICAgICAgICAgICAgICA8cHJpbWVfc3RyaW5nX3Jlc3RyaWN0aW9uIHByaW1lX3N0cmluZ19vbmx5PSJObyIgLz4KICAgICAgICAgICAgPC9yZXN0cmljdGVkX21vZGVzPgogICAgICAgIDwvZnN3X2NvbW1hbmQ+CiAgICA8L2NvbW1hbmRfZGVmaW5pdGlvbnM+CjwvY29tbWFuZF9kaWN0aW9uYXJ5Pgo=',
    },
  );
  return res.uploadDictionary.id;
}

export async function removeCommandDictionary(
  graphqlClient: GraphQLClient,
  commandDictionaryId: number,
): Promise<void> {
  return graphqlClient.request(
    gql`
      mutation DeleteCommandDictionary($commandDictionaryId: Int!) {
        delete_command_dictionary_by_pk(id: $commandDictionaryId) {
          id
        }
      }
    `,
    {
      commandDictionaryId,
    },
  );
}
